<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alliance Business Suite: NuGetGallery.CorePackageService Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Iso.Blue.Logo.Comb.h128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alliance Business Suite
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
   <div id="projectbrief">The Alliance Business Suite is a set of intelligent, extensible, multi-tenant business applications that enable users to jumpstart your business through the acceleration of several core aspects of any given business.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/ddf/class_nu_get_gallery_1_1_core_package_service.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/df4/class_nu_get_gallery_1_1_core_package_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NuGetGallery.CorePackageService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for NuGetGallery.CorePackageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d7f/class_nu_get_gallery_1_1_core_package_service__inherit__graph.png" border="0" usemap="#a_nu_get_gallery_8_core_package_service_inherit__map" alt="Inheritance graph"/></div>
<map name="a_nu_get_gallery_8_core_package_service_inherit__map" id="a_nu_get_gallery_8_core_package_service_inherit__map">
<area shape="rect" title=" " alt="" coords="13,80,196,121"/>
<area shape="rect" href="../../de/d5c/class_nu_get_gallery_1_1_package_service.html" title=" " alt="" coords="5,169,204,196"/>
<area shape="rect" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html" title="Package business logic that is needed in multiple components (not just the Gallery process)." alt="" coords="31,5,179,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for NuGetGallery.CorePackageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d71/class_nu_get_gallery_1_1_core_package_service__coll__graph.png" border="0" usemap="#a_nu_get_gallery_8_core_package_service_coll__map" alt="Collaboration graph"/></div>
<map name="a_nu_get_gallery_8_core_package_service_coll__map" id="a_nu_get_gallery_8_core_package_service_coll__map">
<area shape="rect" title=" " alt="" coords="449,90,632,131"/>
<area shape="rect" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html" title="Package business logic that is needed in multiple components (not just the Gallery process)." alt="" coords="33,5,181,32"/>
<area shape="rect" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html" title=" " alt="" coords="5,57,209,98"/>
<area shape="rect" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html" title=" " alt="" coords="5,122,209,163"/>
<area shape="rect" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html" title=" " alt="" coords="5,187,209,229"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5ffa28c14443c0cff555e7e74f6f8114"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a5ffa28c14443c0cff555e7e74f6f8114">CorePackageService</a> (<a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> &gt; packageRepository, <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a> &gt; packageRegistrationRepository, <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../de/dcf/class_nu_get_1_1_services_1_1_entities_1_1_certificate.html">Certificate</a> &gt; certificateRepository)</td></tr>
<tr class="separator:a5ffa28c14443c0cff555e7e74f6f8114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81225a22d449f07eea95def3b512c598"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a81225a22d449f07eea95def3b512c598">UpdatePackageStreamMetadataAsync</a> (<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> package, <a class="el" href="../../d0/d53/class_nu_get_gallery_1_1_packaging_1_1_package_stream_metadata.html">PackageStreamMetadata</a> metadata, bool commitChanges=true)</td></tr>
<tr class="memdesc:a81225a22d449f07eea95def3b512c598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the package properties related to the package stream itself.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a81225a22d449f07eea95def3b512c598">More...</a><br /></td></tr>
<tr class="separator:a81225a22d449f07eea95def3b512c598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56788cf4e910f1d958e6626e2b3fe4d"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#ac56788cf4e910f1d958e6626e2b3fe4d">UpdatePackageStatusAsync</a> (<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> package, <a class="el" href="../../da/db2/namespace_nu_get_1_1_services_1_1_entities.html#af65d922cebc17ceaed6d669908551248">PackageStatus</a> newPackageStatus, bool commitChanges=true)</td></tr>
<tr class="memdesc:ac56788cf4e910f1d958e6626e2b3fe4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the status on the package and any other related package properties.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#ac56788cf4e910f1d958e6626e2b3fe4d">More...</a><br /></td></tr>
<tr class="separator:ac56788cf4e910f1d958e6626e2b3fe4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb6f98792b7c3ff2ce51d62efbae26f"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a5fb6f98792b7c3ff2ce51d62efbae26f">UpdateIsLatestAsync</a> (<a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a> packageRegistration, bool commitChanges=true)</td></tr>
<tr class="memdesc:a5fb6f98792b7c3ff2ce51d62efbae26f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the Package.IsLatest and related properties on all packages in the provided PackageRegistration. The PackageRegistration.Packages collection must be populated for this method to take effect.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a5fb6f98792b7c3ff2ce51d62efbae26f">More...</a><br /></td></tr>
<tr class="separator:a5fb6f98792b7c3ff2ce51d62efbae26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0bb8109ad29a445f9a4bbb8de1c0a9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#aaf0bb8109ad29a445f9a4bbb8de1c0a9">FindPackageByIdAndVersionStrict</a> (string id, string version)</td></tr>
<tr class="memdesc:aaf0bb8109ad29a445f9a4bbb8de1c0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the package with the given ID and version when exists; otherwise <code>null</code>. Note that this method can return a soft deleted package. This will be indicated by PackageStatus.Deleted on the Package.PackageStatusKey property. Hard deleted packages will be returned as null because no record of the package exists. Consider checking for a null package and a soft deleted depending on your desired behavior for non-existent and deleted packages.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#aaf0bb8109ad29a445f9a4bbb8de1c0a9">More...</a><br /></td></tr>
<tr class="separator:aaf0bb8109ad29a445f9a4bbb8de1c0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4466eb755a7e057e01b4ecb3b63c4b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a8d4466eb755a7e057e01b4ecb3b63c4b">FindPackageRegistrationById</a> (string packageId)</td></tr>
<tr class="memdesc:a8d4466eb755a7e057e01b4ecb3b63c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the package registration with the specified ID when it exists; otherwise, <code>null</code>.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a8d4466eb755a7e057e01b4ecb3b63c4b">More...</a><br /></td></tr>
<tr class="separator:a8d4466eb755a7e057e01b4ecb3b63c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bb9137ee63dc3852e97974c3dfdb33"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#ae2bb9137ee63dc3852e97974c3dfdb33">UpdatePackageSigningCertificateAsync</a> (string packageId, string packageVersion, string thumbprint)</td></tr>
<tr class="memdesc:ae2bb9137ee63dc3852e97974c3dfdb33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the Package.CertificateKey.  <a href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#ae2bb9137ee63dc3852e97974c3dfdb33">More...</a><br /></td></tr>
<tr class="separator:ae2bb9137ee63dc3852e97974c3dfdb33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0567a53c01e84c07430f82ae867b33f7"><td class="memItemLeft" align="right" valign="top">IQueryable&lt; <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a0567a53c01e84c07430f82ae867b33f7">GetPackagesByIdQueryable</a> (string id, <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#aa9d740088c29d9f20b5941faec58eb46">PackageDeprecationFieldsToInclude</a> deprecationFields=<a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#aa9d740088c29d9f20b5941faec58eb46a6adf97f83acf6453d4a6a4b1070f3754">PackageDeprecationFieldsToInclude.None</a>)</td></tr>
<tr class="separator:a0567a53c01e84c07430f82ae867b33f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536d3bea8010e4d3165a12379b958a44"><td class="memItemLeft" align="right" valign="top">IQueryable&lt; <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a536d3bea8010e4d3165a12379b958a44">GetPackagesByIdQueryable</a> (string id, bool includeLicenseReports, bool includePackageRegistration, bool includeUser, bool includeSymbolPackages, bool includeDeprecation, bool includeDeprecationRelationships)</td></tr>
<tr class="separator:a536d3bea8010e4d3165a12379b958a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8a20032c877e80e42819be19a5953049"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../de/dcf/class_nu_get_1_1_services_1_1_entities_1_1_certificate.html">Certificate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#a8a20032c877e80e42819be19a5953049">_certificateRepository</a></td></tr>
<tr class="separator:a8a20032c877e80e42819be19a5953049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af476dec628b4909475f6ec39cc7c547f"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#af476dec628b4909475f6ec39cc7c547f">_packageRepository</a></td></tr>
<tr class="separator:af476dec628b4909475f6ec39cc7c547f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36664869fa0ae6576a0ef030f6bf4f2"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html#aa36664869fa0ae6576a0ef030f6bf4f2">_packageRegistrationRepository</a></td></tr>
<tr class="separator:aa36664869fa0ae6576a0ef030f6bf4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5ffa28c14443c0cff555e7e74f6f8114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ffa28c14443c0cff555e7e74f6f8114">&#9670;&nbsp;</a></span>CorePackageService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NuGetGallery.CorePackageService.CorePackageService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> &gt;&#160;</td>
          <td class="paramname"><em>packageRepository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a> &gt;&#160;</td>
          <td class="paramname"><em>packageRegistrationRepository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt; <a class="el" href="../../de/dcf/class_nu_get_1_1_services_1_1_entities_1_1_certificate.html">Certificate</a> &gt;&#160;</td>
          <td class="paramname"><em>certificateRepository</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaf0bb8109ad29a445f9a4bbb8de1c0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0bb8109ad29a445f9a4bbb8de1c0a9">&#9670;&nbsp;</a></span>FindPackageByIdAndVersionStrict()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> NuGetGallery.CorePackageService.FindPackageByIdAndVersionStrict </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the package with the given ID and version when exists; otherwise <code>null</code>. Note that this method can return a soft deleted package. This will be indicated by PackageStatus.Deleted on the Package.PackageStatusKey property. Hard deleted packages will be returned as null because no record of the package exists. Consider checking for a null package and a soft deleted depending on your desired behavior for non-existent and deleted packages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The package ID.</td></tr>
    <tr><td class="paramname">version</td><td>The package version.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#af48a523c04b6552996b7d51bdad2ec08">NuGetGallery.ICorePackageService</a>.</p>

</div>
</div>
<a id="a8d4466eb755a7e057e01b4ecb3b63c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4466eb755a7e057e01b4ecb3b63c4b">&#9670;&nbsp;</a></span>FindPackageRegistrationById()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a> NuGetGallery.CorePackageService.FindPackageRegistrationById </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>packageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the package registration with the specified ID when it exists; otherwise, <code>null</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packageId</td><td>The package ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A package registration or <code>null</code>.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentException</td><td>Thrown if <em>packageId</em>  is <code>null</code> or empty.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#a23c3dde73d5c1233458c2b511d585480">NuGetGallery.ICorePackageService</a>.</p>

<p>Reimplemented in <a class="el" href="../../de/d5c/class_nu_get_gallery_1_1_package_service.html#a92f5de28f64d8d32933287dad97c8284">NuGetGallery.PackageService</a>.</p>

</div>
</div>
<a id="a536d3bea8010e4d3165a12379b958a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536d3bea8010e4d3165a12379b958a44">&#9670;&nbsp;</a></span>GetPackagesByIdQueryable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IQueryable&lt;<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&gt; NuGetGallery.CorePackageService.GetPackagesByIdQueryable </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeLicenseReports</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includePackageRegistration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeUser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeSymbolPackages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDeprecation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDeprecationRelationships</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0567a53c01e84c07430f82ae867b33f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0567a53c01e84c07430f82ae867b33f7">&#9670;&nbsp;</a></span>GetPackagesByIdQueryable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IQueryable&lt;<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&gt; NuGetGallery.CorePackageService.GetPackagesByIdQueryable </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#aa9d740088c29d9f20b5941faec58eb46">PackageDeprecationFieldsToInclude</a>&#160;</td>
          <td class="paramname"><em>deprecationFields</em> = <code><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#aa9d740088c29d9f20b5941faec58eb46a6adf97f83acf6453d4a6a4b1070f3754">PackageDeprecationFieldsToInclude.None</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fb6f98792b7c3ff2ce51d62efbae26f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb6f98792b7c3ff2ce51d62efbae26f">&#9670;&nbsp;</a></span>UpdateIsLatestAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task NuGetGallery.CorePackageService.UpdateIsLatestAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a>&#160;</td>
          <td class="paramname"><em>packageRegistration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commitChanges</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the Package.IsLatest and related properties on all packages in the provided PackageRegistration. The PackageRegistration.Packages collection must be populated for this method to take effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packageRegistration</td><td>The package registration.</td></tr>
    <tr><td class="paramname">commitChanges</td><td>Whether or not to commit the changes to the packages.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#aa2961799be5c2f2dd671de93917b1e7b">NuGetGallery.ICorePackageService</a>.</p>

</div>
</div>
<a id="ae2bb9137ee63dc3852e97974c3dfdb33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bb9137ee63dc3852e97974c3dfdb33">&#9670;&nbsp;</a></span>UpdatePackageSigningCertificateAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task NuGetGallery.CorePackageService.UpdatePackageSigningCertificateAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>packageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>packageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>thumbprint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the Package.CertificateKey. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packageId</td><td>The package key.</td></tr>
    <tr><td class="paramname">packageVersion</td><td>The package key.</td></tr>
    <tr><td class="paramname">thumbprint</td><td>The certificate thumbprint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentException</td><td>Thrown if <em>packageId</em>  is <code>null</code> or empty.</td></tr>
    <tr><td class="paramname">ArgumentException</td><td>Thrown if <em>packageVersion</em>  is <code>null</code> or empty.</td></tr>
    <tr><td class="paramname">ArgumentException</td><td>Thrown if the package does not exist.</td></tr>
    <tr><td class="paramname">ArgumentException</td><td>Thrown if <em>thumbprint</em>  is <code>null</code> or empty or a certificate with the specified thumbprint does not exist.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#aca2652ec6985dd53b060c0b93987d307">NuGetGallery.ICorePackageService</a>.</p>

</div>
</div>
<a id="ac56788cf4e910f1d958e6626e2b3fe4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56788cf4e910f1d958e6626e2b3fe4d">&#9670;&nbsp;</a></span>UpdatePackageStatusAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task NuGetGallery.CorePackageService.UpdatePackageStatusAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&#160;</td>
          <td class="paramname"><em>package</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/db2/namespace_nu_get_1_1_services_1_1_entities.html#af65d922cebc17ceaed6d669908551248">PackageStatus</a>&#160;</td>
          <td class="paramname"><em>newPackageStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commitChanges</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the status on the package and any other related package properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">package</td><td>The package to update the status of.</td></tr>
    <tr><td class="paramname">newPackageStatus</td><td>The new package status.</td></tr>
    <tr><td class="paramname">commitChanges</td><td>Whether or not to commit the changes to the entity context.</td></tr>
  </table>
  </dd>
</dl>
<p>If the package is being made available, consider this change as an "edit" so that the package appears for cursors on the Package.LastEdited field.</p>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#af252e05f40a2ace0323b73c76e24f3ee">NuGetGallery.ICorePackageService</a>.</p>

</div>
</div>
<a id="a81225a22d449f07eea95def3b512c598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81225a22d449f07eea95def3b512c598">&#9670;&nbsp;</a></span>UpdatePackageStreamMetadataAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task NuGetGallery.CorePackageService.UpdatePackageStreamMetadataAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&#160;</td>
          <td class="paramname"><em>package</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d53/class_nu_get_gallery_1_1_packaging_1_1_package_stream_metadata.html">PackageStreamMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commitChanges</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the package properties related to the package stream itself. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">package</td><td>The package to update the stream details of.</td></tr>
    <tr><td class="paramname">metadata</td><td>The new package stream metadata.</td></tr>
    <tr><td class="paramname">commitChanges</td><td>Whether or not to commit the changes to the entity context.</td></tr>
  </table>
  </dd>
</dl>
<p>If the package is available, consider this change as an "edit" so that the package appears for cursors on the Package.LastEdited field.</p>

<p>Implements <a class="el" href="../../d7/dd5/interface_nu_get_gallery_1_1_i_core_package_service.html#a706c9e1fa7159e3d5ff0ee024b423e13">NuGetGallery.ICorePackageService</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8a20032c877e80e42819be19a5953049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a20032c877e80e42819be19a5953049">&#9670;&nbsp;</a></span>_certificateRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt;<a class="el" href="../../de/dcf/class_nu_get_1_1_services_1_1_entities_1_1_certificate.html">Certificate</a>&gt; NuGetGallery.CorePackageService._certificateRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa36664869fa0ae6576a0ef030f6bf4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36664869fa0ae6576a0ef030f6bf4f2">&#9670;&nbsp;</a></span>_packageRegistrationRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt;<a class="el" href="../../d2/dc6/class_nu_get_1_1_services_1_1_entities_1_1_package_registration.html">PackageRegistration</a>&gt; NuGetGallery.CorePackageService._packageRegistrationRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af476dec628b4909475f6ec39cc7c547f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af476dec628b4909475f6ec39cc7c547f">&#9670;&nbsp;</a></span>_packageRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../de/dcb/interface_nu_get_gallery_1_1_i_entity_repository.html">IEntityRepository</a>&lt;<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&gt; NuGetGallery.CorePackageService._packageRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../dd/d13/_core_package_service_8cs.html">CorePackageService.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html">NuGetGallery</a></li><li class="navelem"><a class="el" href="../../db/ddf/class_nu_get_gallery_1_1_core_package_service.html">CorePackageService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
