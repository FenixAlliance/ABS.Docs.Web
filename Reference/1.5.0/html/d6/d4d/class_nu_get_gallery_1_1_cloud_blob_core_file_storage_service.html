<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alliance Business Suite: NuGetGallery.CloudBlobCoreFileStorageService Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Iso.Blue.Logo.Comb.h128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alliance Business Suite
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
   <div id="projectbrief">The Alliance Business Suite is a set of intelligent, extensible, multi-tenant business applications that enable users to jumpstart your business through the acceleration of several core aspects of any given business.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/dd7/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NuGetGallery.CloudBlobCoreFileStorageService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for NuGetGallery.CloudBlobCoreFileStorageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d90/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service__inherit__graph.png" border="0" usemap="#a_nu_get_gallery_8_cloud_blob_core_file_storage_service_inherit__map" alt="Inheritance graph"/></div>
<map name="a_nu_get_gallery_8_cloud_blob_core_file_storage_service_inherit__map" id="a_nu_get_gallery_8_cloud_blob_core_file_storage_service_inherit__map">
<area shape="rect" title=" " alt="" coords="5,80,196,121"/>
<area shape="rect" href="../../d6/d63/class_nu_get_gallery_1_1_cloud_blob_file_storage_service.html" title=" " alt="" coords="9,169,193,211"/>
<area shape="rect" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html" title=" " alt="" coords="19,5,182,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for NuGetGallery.CloudBlobCoreFileStorageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/da3/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service__coll__graph.png" border="0" usemap="#a_nu_get_gallery_8_cloud_blob_core_file_storage_service_coll__map" alt="Collaboration graph"/></div>
<map name="a_nu_get_gallery_8_cloud_blob_core_file_storage_service_coll__map" id="a_nu_get_gallery_8_cloud_blob_core_file_storage_service_coll__map">
<area shape="rect" title=" " alt="" coords="560,90,751,131"/>
<area shape="rect" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html" title=" " alt="" coords="150,5,313,32"/>
<area shape="rect" href="../../dc/d0f/interface_nu_get_gallery_1_1_diagnostics_1_1_i_diagnostics_source.html" title=" " alt="" coords="143,57,319,98"/>
<area shape="rect" title=" " alt="" coords="5,64,71,91"/>
<area shape="rect" href="../../da/d56/interface_nu_get_gallery_1_1_i_cloud_blob_container_information_provider.html" title="Abstracts the specific storage container information allowing to reuse CloudBlobCoreFileStorageServic..." alt="" coords="120,122,343,163"/>
<area shape="rect" href="../../d2/dfc/interface_nu_get_gallery_1_1_i_cloud_blob_client.html" title=" " alt="" coords="131,188,331,215"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae152a42b9f83b778ca6ede3b4312499b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#ae152a42b9f83b778ca6ede3b4312499b">CloudBlobCoreFileStorageService</a> (<a class="el" href="../../d2/dfc/interface_nu_get_gallery_1_1_i_cloud_blob_client.html">ICloudBlobClient</a> client, <a class="el" href="../../d9/d94/interface_nu_get_gallery_1_1_diagnostics_1_1_i_diagnostics_service.html">IDiagnosticsService</a> diagnosticsService, <a class="el" href="../../da/d56/interface_nu_get_gallery_1_1_i_cloud_blob_container_information_provider.html">ICloudBlobContainerInformationProvider</a> cloudBlobFolderInformationProvider)</td></tr>
<tr class="separator:ae152a42b9f83b778ca6ede3b4312499b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1eb757b47e263b369f8c60eabb1111"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a5b1eb757b47e263b369f8c60eabb1111">DeleteFileAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:a5b1eb757b47e263b369f8c60eabb1111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb78cca3af1608883289d65dbd9a8c1d"><td class="memItemLeft" align="right" valign="top">async Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#acb78cca3af1608883289d65dbd9a8c1d">FileExistsAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:acb78cca3af1608883289d65dbd9a8c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef550316f13ce108f87078a6f5440e7"><td class="memItemLeft" align="right" valign="top">async Task&lt; Stream &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a1ef550316f13ce108f87078a6f5440e7">GetFileAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:a1ef550316f13ce108f87078a6f5440e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8615d6cb69e05fff35c1bc3a3867f5"><td class="memItemLeft" align="right" valign="top">async Task&lt; <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a3a8615d6cb69e05fff35c1bc3a3867f5">GetFileReferenceAsync</a> (string folderName, string fileName, string ifNoneMatch=null)</td></tr>
<tr class="memdesc:a3a8615d6cb69e05fff35c1bc3a3867f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference to a file in the storage service, which can be used to open the full file data.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a3a8615d6cb69e05fff35c1bc3a3867f5">More...</a><br /></td></tr>
<tr class="separator:a3a8615d6cb69e05fff35c1bc3a3867f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77673e789d4f310fab4595af860eea6d"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a77673e789d4f310fab4595af860eea6d">CopyFileAsync</a> (Uri srcUri, string destFolderName, string destFileName, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> destAccessCondition)</td></tr>
<tr class="memdesc:a77673e789d4f310fab4595af860eea6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the source URI to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a77673e789d4f310fab4595af860eea6d">More...</a><br /></td></tr>
<tr class="separator:a77673e789d4f310fab4595af860eea6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25af7a745593d8d0ff4c62ebf88bd260"><td class="memItemLeft" align="right" valign="top">async Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a25af7a745593d8d0ff4c62ebf88bd260">CopyFileAsync</a> (string srcFolderName, string srcFileName, string destFolderName, string destFileName, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> destAccessCondition)</td></tr>
<tr class="memdesc:a25af7a745593d8d0ff4c62ebf88bd260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the source file to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a25af7a745593d8d0ff4c62ebf88bd260">More...</a><br /></td></tr>
<tr class="separator:a25af7a745593d8d0ff4c62ebf88bd260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774dc63f35d6f1d2c3cfabd5773c322f"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a774dc63f35d6f1d2c3cfabd5773c322f">SaveFileAsync</a> (string folderName, string fileName, Stream file, bool overwrite=true)</td></tr>
<tr class="separator:a774dc63f35d6f1d2c3cfabd5773c322f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1924925ab7b6fb3b3a4e989d02fe98"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#adb1924925ab7b6fb3b3a4e989d02fe98">SaveFileAsync</a> (string folderName, string fileName, string contentType, Stream file, bool overwrite=true)</td></tr>
<tr class="memdesc:adb1924925ab7b6fb3b3a4e989d02fe98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the file. If storage supports setting the content type for the file, it will be set to the specified value  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#adb1924925ab7b6fb3b3a4e989d02fe98">More...</a><br /></td></tr>
<tr class="separator:adb1924925ab7b6fb3b3a4e989d02fe98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9611fd3117064574bff34334e525456a"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a9611fd3117064574bff34334e525456a">SaveFileAsync</a> (string folderName, string fileName, Stream file, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> accessConditions)</td></tr>
<tr class="memdesc:a9611fd3117064574bff34334e525456a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the file. An exception should be thrown if the access condition is not met.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a9611fd3117064574bff34334e525456a">More...</a><br /></td></tr>
<tr class="separator:a9611fd3117064574bff34334e525456a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa945cd9c8c39efa4047a1723acc3dce2"><td class="memItemLeft" align="right" valign="top">async Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#aa945cd9c8c39efa4047a1723acc3dce2">GetFileUriAsync</a> (string folderName, string fileName)</td></tr>
<tr class="memdesc:aa945cd9c8c39efa4047a1723acc3dce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a file URI.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#aa945cd9c8c39efa4047a1723acc3dce2">More...</a><br /></td></tr>
<tr class="separator:aa945cd9c8c39efa4047a1723acc3dce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e1bad6b57ed67c3af3a3919ee79a30"><td class="memItemLeft" align="right" valign="top">async Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a25e1bad6b57ed67c3af3a3919ee79a30">GetPriviledgedFileUriAsync</a> (string folderName, string fileName, <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8">FileUriPermissions</a> permissions, DateTimeOffset endOfAccess)</td></tr>
<tr class="memdesc:a25e1bad6b57ed67c3af3a3919ee79a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a storage file URI giving certain permissions for the specific file. For example, this method can be used to generate a URI that allows the caller to either delete (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8af2a6c498fb90ee345d997f888fce3b18">FileUriPermissions.Delete</a>) or read (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8a7a1a5f3e79fdc91edf2f5ead9d66abb4">FileUriPermissions.Read</a>) the file.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a25e1bad6b57ed67c3af3a3919ee79a30">More...</a><br /></td></tr>
<tr class="separator:a25e1bad6b57ed67c3af3a3919ee79a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339403dcdfd8a98f0a0f0a662e7ce32d"><td class="memItemLeft" align="right" valign="top">async Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a339403dcdfd8a98f0a0f0a662e7ce32d">GetFileReadUriAsync</a> (string folderName, string fileName, DateTimeOffset? endOfAccess)</td></tr>
<tr class="memdesc:a339403dcdfd8a98f0a0f0a662e7ce32d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the storage file URI (which is optionally time limited)  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a339403dcdfd8a98f0a0f0a662e7ce32d">More...</a><br /></td></tr>
<tr class="separator:a339403dcdfd8a98f0a0f0a662e7ce32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75aa7cf308cc7b7a0a4aee9e16ac4237"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a75aa7cf308cc7b7a0a4aee9e16ac4237">SetMetadataAsync</a> (string folderName, string fileName, Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, IDictionary&lt; string, string &gt;, Task&lt; bool &gt;&gt; updateMetadataAsync)</td></tr>
<tr class="memdesc:a75aa7cf308cc7b7a0a4aee9e16ac4237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously sets blob metadata.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a75aa7cf308cc7b7a0a4aee9e16ac4237">More...</a><br /></td></tr>
<tr class="separator:a75aa7cf308cc7b7a0a4aee9e16ac4237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d0c9c9c39668d361ef7fca1387e3b7"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a36d0c9c9c39668d361ef7fca1387e3b7">SetPropertiesAsync</a> (string folderName, string fileName, Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, BlobProperties, Task&lt; bool &gt;&gt; updatePropertiesAsync)</td></tr>
<tr class="memdesc:a36d0c9c9c39668d361ef7fca1387e3b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously sets blob properties.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a36d0c9c9c39668d361ef7fca1387e3b7">More...</a><br /></td></tr>
<tr class="separator:a36d0c9c9c39668d361ef7fca1387e3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1974df9737e5312373c6159fcd635094"><td class="memItemLeft" align="right" valign="top">async Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a1974df9737e5312373c6159fcd635094">GetETagOrNullAsync</a> (string folderName, string fileName)</td></tr>
<tr class="memdesc:a1974df9737e5312373c6159fcd635094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the etag value for the specified blob. If the blob does not exists it will return null.  <a href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a1974df9737e5312373c6159fcd635094">More...</a><br /></td></tr>
<tr class="separator:a1974df9737e5312373c6159fcd635094"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a11af66d05810fd6db80a8a058c39968e"><td class="memItemLeft" align="right" valign="top">async Task&lt; <a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a11af66d05810fd6db80a8a058c39968e">GetContainerAsync</a> (string folderName)</td></tr>
<tr class="separator:a11af66d05810fd6db80a8a058c39968e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a711cdf6a40c37564d94e364688d8ac22"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../d2/dfc/interface_nu_get_gallery_1_1_i_cloud_blob_client.html">ICloudBlobClient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a711cdf6a40c37564d94e364688d8ac22">_client</a></td></tr>
<tr class="separator:a711cdf6a40c37564d94e364688d8ac22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd54d8cbd9e2a0c26c7ca85e9fd4b2f"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../dc/d0f/interface_nu_get_gallery_1_1_diagnostics_1_1_i_diagnostics_source.html">IDiagnosticsSource</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a7bd54d8cbd9e2a0c26c7ca85e9fd4b2f">_trace</a></td></tr>
<tr class="separator:a7bd54d8cbd9e2a0c26c7ca85e9fd4b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1fbd15e44c09929fc148f90f4f5293"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../da/d56/interface_nu_get_gallery_1_1_i_cloud_blob_container_information_provider.html">ICloudBlobContainerInformationProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a8b1fbd15e44c09929fc148f90f4f5293">_cloudBlobFolderInformationProvider</a></td></tr>
<tr class="separator:a8b1fbd15e44c09929fc148f90f4f5293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff6daaf47e41c4ef0ea7c3094bc4e39"><td class="memItemLeft" align="right" valign="top">readonly ConcurrentDictionary&lt; string, <a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html#a3ff6daaf47e41c4ef0ea7c3094bc4e39">_containers</a> = new ConcurrentDictionary&lt;string, <a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a>&gt;()</td></tr>
<tr class="separator:a3ff6daaf47e41c4ef0ea7c3094bc4e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae152a42b9f83b778ca6ede3b4312499b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae152a42b9f83b778ca6ede3b4312499b">&#9670;&nbsp;</a></span>CloudBlobCoreFileStorageService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NuGetGallery.CloudBlobCoreFileStorageService.CloudBlobCoreFileStorageService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dfc/interface_nu_get_gallery_1_1_i_cloud_blob_client.html">ICloudBlobClient</a>&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d94/interface_nu_get_gallery_1_1_diagnostics_1_1_i_diagnostics_service.html">IDiagnosticsService</a>&#160;</td>
          <td class="paramname"><em>diagnosticsService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d56/interface_nu_get_gallery_1_1_i_cloud_blob_container_information_provider.html">ICloudBlobContainerInformationProvider</a>&#160;</td>
          <td class="paramname"><em>cloudBlobFolderInformationProvider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a25af7a745593d8d0ff4c62ebf88bd260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25af7a745593d8d0ff4c62ebf88bd260">&#9670;&nbsp;</a></span>CopyFileAsync() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;string&gt; NuGetGallery.CloudBlobCoreFileStorageService.CopyFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>srcFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>srcFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>destAccessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the source file to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcFolderName</td><td>The source folder.</td></tr>
    <tr><td class="paramname">srcFileName</td><td>The source file name or relative file path.</td></tr>
    <tr><td class="paramname">destFolderName</td><td>The destination folder.</td></tr>
    <tr><td class="paramname">destFileName</td><td>The destination file name or relative file path.</td></tr>
    <tr><td class="paramname">destAccessCondition</td><td>The access condition used to determine whether the destination is in the expected state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the source file. This can be used if the destination file is later intended to replace the source file in conjunction with <em>destAccessCondition</em> . </dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ab875ae073051d5125a2646a777da8f1f">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a77673e789d4f310fab4595af860eea6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77673e789d4f310fab4595af860eea6d">&#9670;&nbsp;</a></span>CopyFileAsync() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.CloudBlobCoreFileStorageService.CopyFileAsync </td>
          <td>(</td>
          <td class="paramtype">Uri&#160;</td>
          <td class="paramname"><em>srcUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>destAccessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the source URI to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcUri</td><td>The URI of the source file.</td></tr>
    <tr><td class="paramname">destFolderName</td><td>The destination folder.</td></tr>
    <tr><td class="paramname">destFileName</td><td>The destination file name or relative file path.</td></tr>
    <tr><td class="paramname">destAccessCondition</td><td>The access condition used to determine whether the destination is in the expected state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the source file. This can be used if the destination file is later intended to replace the source file in conjunction with <em>destAccessCondition</em> . </dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a567d2aa08f2a2b44a1701888f65b6710">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a5b1eb757b47e263b369f8c60eabb1111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1eb757b47e263b369f8c60eabb1111">&#9670;&nbsp;</a></span>DeleteFileAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.CloudBlobCoreFileStorageService.DeleteFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a7f0da19941696eb423131c6e9978b0b8">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="acb78cca3af1608883289d65dbd9a8c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb78cca3af1608883289d65dbd9a8c1d">&#9670;&nbsp;</a></span>FileExistsAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;bool&gt; NuGetGallery.CloudBlobCoreFileStorageService.FileExistsAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a14a22e373850543f5ec909a44a65ad6e">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a11af66d05810fd6db80a8a058c39968e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11af66d05810fd6db80a8a058c39968e">&#9670;&nbsp;</a></span>GetContainerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;<a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a>&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetContainerAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1974df9737e5312373c6159fcd635094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1974df9737e5312373c6159fcd635094">&#9670;&nbsp;</a></span>GetETagOrNullAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;string&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetETagOrNullAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the etag value for the specified blob. If the blob does not exists it will return null. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the specified file.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a8e8a830786b8eb8d4cefdaa355590a0c">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a1ef550316f13ce108f87078a6f5440e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef550316f13ce108f87078a6f5440e7">&#9670;&nbsp;</a></span>GetFileAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;Stream&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ad6fe555467087e6e2be5a804d47df308">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a339403dcdfd8a98f0a0f0a662e7ce32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a339403dcdfd8a98f0a0f0a662e7ce32d">&#9670;&nbsp;</a></span>GetFileReadUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;Uri&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetFileReadUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTimeOffset?&#160;</td>
          <td class="paramname"><em>endOfAccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates the storage file URI (which is optionally time limited) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within the <em>folderName</em> .</td></tr>
    <tr><td class="paramname">endOfAccess</td><td>End of access timestamp. Implementation should produce URIs that will become invalid after that timestamp if it has support for it. If null then would be no time on URI availability.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time limited URI (if requested and implementation supports it) for the specified file.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a17000c85e0896c491b6dacbf5ea05038">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a3a8615d6cb69e05fff35c1bc3a3867f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8615d6cb69e05fff35c1bc3a3867f5">&#9670;&nbsp;</a></span>GetFileReferenceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;<a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a>&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetFileReferenceAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ifNoneMatch</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a reference to a file in the storage service, which can be used to open the full file data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file to open</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within that folder to open</td></tr>
    <tr><td class="paramname">ifNoneMatch</td><td>The <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html#ae8ddf15710ac9ec58ac6ad098bb8327d" title="Gets the content ID suitable for use in the ifNoneMatch parameter of IFileStorageService....">IFileReference.ContentId</a> value to use in an If-None-Match request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a> representing the file reference</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a9af33d1f5ddee7ac086cb0476816cdab">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="aa945cd9c8c39efa4047a1723acc3dce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa945cd9c8c39efa4047a1723acc3dce2">&#9670;&nbsp;</a></span>GetFileUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;Uri&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetFileUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a file URI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within the <em>folderName</em> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Uri for the specified file.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a475cd862d77c0dae6dff379a5e6957b5">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a25e1bad6b57ed67c3af3a3919ee79a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e1bad6b57ed67c3af3a3919ee79a30">&#9670;&nbsp;</a></span>GetPriviledgedFileUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;Uri&gt; NuGetGallery.CloudBlobCoreFileStorageService.GetPriviledgedFileUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8">FileUriPermissions</a>&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTimeOffset&#160;</td>
          <td class="paramname"><em>endOfAccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a storage file URI giving certain permissions for the specific file. For example, this method can be used to generate a URI that allows the caller to either delete (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8af2a6c498fb90ee345d997f888fce3b18">FileUriPermissions.Delete</a>) or read (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8a7a1a5f3e79fdc91edf2f5ead9d66abb4">FileUriPermissions.Read</a>) the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
    <tr><td class="paramname">permissions</td><td>The permissions to give to the privileged URI.</td></tr>
    <tr><td class="paramname">endOfAccess</td><td>The time when the access ends.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The URI with privileged access.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a86ba38c4f35604a2ba76312a57ea122b">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a774dc63f35d6f1d2c3cfabd5773c322f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a774dc63f35d6f1d2c3cfabd5773c322f">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.CloudBlobCoreFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ae783774538ffb3bfd55a27db0a5c9dcc">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a9611fd3117064574bff34334e525456a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9611fd3117064574bff34334e525456a">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.CloudBlobCoreFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>accessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the file. An exception should be thrown if the access condition is not met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder that contains the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The name of file or relative file path.</td></tr>
    <tr><td class="paramname">file</td><td>The content that should be saved to the file.</td></tr>
    <tr><td class="paramname">accessCondition</td><td>The condition used to determine whether to persist the save operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that completes once the file is saved.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ad674ae816ea16cd6307a6b584b004bc5">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="adb1924925ab7b6fb3b3a4e989d02fe98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1924925ab7b6fb3b3a4e989d02fe98">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.CloudBlobCoreFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the file. If storage supports setting the content type for the file, it will be set to the specified value </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder that will contain the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The name of the file.</td></tr>
    <tr><td class="paramname">contentType</td><td>The content type to set for the saved file if storage supports it.</td></tr>
    <tr><td class="paramname">file</td><td>The content that should be saved.</td></tr>
    <tr><td class="paramname">overwrite</td><td>Indicates whether file should be overwritten if exists.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d3/de1/class_nu_get_gallery_1_1_file_already_exists_exception.html">FileAlreadyExistsException</a></td><td>Thrown when <em>overwrite</em>  is false and file already exists in destination. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a17f3fd57b4af1845682b44aeedf236a8">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a75aa7cf308cc7b7a0a4aee9e16ac4237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75aa7cf308cc7b7a0a4aee9e16ac4237">&#9670;&nbsp;</a></span>SetMetadataAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.CloudBlobCoreFileStorageService.SetMetadataAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, IDictionary&lt; string, string &gt;, Task&lt; bool &gt;&gt;&#160;</td>
          <td class="paramname"><em>updateMetadataAsync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronously sets blob metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder (container) name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The blob file name.</td></tr>
    <tr><td class="paramname">updateMetadataAsync</td><td>A function which updates a metadata dictionary and returns <code>true</code> for changes to be persisted or <code>false</code> for changes to be discarded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that represents the asynchronous operation.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ac781ca79c13dd5f42b6313d857581aef">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a36d0c9c9c39668d361ef7fca1387e3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d0c9c9c39668d361ef7fca1387e3b7">&#9670;&nbsp;</a></span>SetPropertiesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.CloudBlobCoreFileStorageService.SetPropertiesAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, BlobProperties, Task&lt; bool &gt;&gt;&#160;</td>
          <td class="paramname"><em>updatePropertiesAsync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronously sets blob properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder (container) name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The blob file name.</td></tr>
    <tr><td class="paramname">updatePropertiesAsync</td><td>A function which updates blob properties and returns <code>true</code> for changes to be persisted or <code>false</code> for changes to be discarded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that represents the asynchronous operation.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ac6c20f112bdc8b6f41f69cd899842760">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a711cdf6a40c37564d94e364688d8ac22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711cdf6a40c37564d94e364688d8ac22">&#9670;&nbsp;</a></span>_client</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../d2/dfc/interface_nu_get_gallery_1_1_i_cloud_blob_client.html">ICloudBlobClient</a> NuGetGallery.CloudBlobCoreFileStorageService._client</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b1fbd15e44c09929fc148f90f4f5293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b1fbd15e44c09929fc148f90f4f5293">&#9670;&nbsp;</a></span>_cloudBlobFolderInformationProvider</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../da/d56/interface_nu_get_gallery_1_1_i_cloud_blob_container_information_provider.html">ICloudBlobContainerInformationProvider</a> NuGetGallery.CloudBlobCoreFileStorageService._cloudBlobFolderInformationProvider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ff6daaf47e41c4ef0ea7c3094bc4e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff6daaf47e41c4ef0ea7c3094bc4e39">&#9670;&nbsp;</a></span>_containers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly ConcurrentDictionary&lt;string, <a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a>&gt; NuGetGallery.CloudBlobCoreFileStorageService._containers = new ConcurrentDictionary&lt;string, <a class="el" href="../../db/d7f/interface_nu_get_gallery_1_1_i_cloud_blob_container.html">ICloudBlobContainer</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bd54d8cbd9e2a0c26c7ca85e9fd4b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd54d8cbd9e2a0c26c7ca85e9fd4b2f">&#9670;&nbsp;</a></span>_trace</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../dc/d0f/interface_nu_get_gallery_1_1_diagnostics_1_1_i_diagnostics_source.html">IDiagnosticsSource</a> NuGetGallery.CloudBlobCoreFileStorageService._trace</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../dc/dd8/_cloud_blob_core_file_storage_service_8cs.html">CloudBlobCoreFileStorageService.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html">NuGetGallery</a></li><li class="navelem"><a class="el" href="../../d6/d4d/class_nu_get_gallery_1_1_cloud_blob_core_file_storage_service.html">CloudBlobCoreFileStorageService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
