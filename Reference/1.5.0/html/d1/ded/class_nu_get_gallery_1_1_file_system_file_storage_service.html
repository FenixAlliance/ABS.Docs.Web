<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alliance Business Suite: NuGetGallery.FileSystemFileStorageService Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Iso.Blue.Logo.Comb.h128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alliance Business Suite
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
   <div id="projectbrief">The Alliance Business Suite is a set of intelligent, extensible, multi-tenant business applications that enable users to jumpstart your business through the acceleration of several core aspects of any given business.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d5/d2b/class_nu_get_gallery_1_1_file_system_file_storage_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NuGetGallery.FileSystemFileStorageService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for NuGetGallery.FileSystemFileStorageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d33/class_nu_get_gallery_1_1_file_system_file_storage_service__inherit__graph.png" border="0" usemap="#a_nu_get_gallery_8_file_system_file_storage_service_inherit__map" alt="Inheritance graph"/></div>
<map name="a_nu_get_gallery_8_file_system_file_storage_service_inherit__map" id="a_nu_get_gallery_8_file_system_file_storage_service_inherit__map">
<area shape="rect" title=" " alt="" coords="5,155,196,196"/>
<area shape="rect" href="../../db/d91/interface_nu_get_gallery_1_1_i_file_storage_service.html" title=" " alt="" coords="33,80,169,107"/>
<area shape="rect" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html" title=" " alt="" coords="19,5,182,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for NuGetGallery.FileSystemFileStorageService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d41/class_nu_get_gallery_1_1_file_system_file_storage_service__coll__graph.png" border="0" usemap="#a_nu_get_gallery_8_file_system_file_storage_service_coll__map" alt="Collaboration graph"/></div>
<map name="a_nu_get_gallery_8_file_system_file_storage_service_coll__map" id="a_nu_get_gallery_8_file_system_file_storage_service_coll__map">
<area shape="rect" title=" " alt="" coords="5,155,196,196"/>
<area shape="rect" href="../../db/d91/interface_nu_get_gallery_1_1_i_file_storage_service.html" title=" " alt="" coords="33,80,169,107"/>
<area shape="rect" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html" title=" " alt="" coords="19,5,182,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaa1e884b52a2bf0be055cd84d8567548"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aaa1e884b52a2bf0be055cd84d8567548">FileSystemFileStorageService</a> (<a class="el" href="../../d6/d7c/interface_nu_get_gallery_1_1_configuration_1_1_i_app_configuration.html">IAppConfiguration</a> configuration, <a class="el" href="../../d1/d92/interface_nu_get_gallery_1_1_i_file_system_service.html">IFileSystemService</a> fileSystemService)</td></tr>
<tr class="separator:aaa1e884b52a2bf0be055cd84d8567548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a82b130d6afd38eabc1afd6512aff4b"><td class="memItemLeft" align="right" valign="top">Task&lt; ActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a1a82b130d6afd38eabc1afd6512aff4b">CreateDownloadFileActionResultAsync</a> (Uri requestUrl, string folderName, string fileName)</td></tr>
<tr class="separator:a1a82b130d6afd38eabc1afd6512aff4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad170e102e3632a8850569a81320e5d01"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#ad170e102e3632a8850569a81320e5d01">DeleteFileAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:ad170e102e3632a8850569a81320e5d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b7da377cd819d81b7b379f9a95b7c4"><td class="memItemLeft" align="right" valign="top">Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a42b7da377cd819d81b7b379f9a95b7c4">FileExistsAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:a42b7da377cd819d81b7b379f9a95b7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace5074f2ece080e7f38def10a3464a6"><td class="memItemLeft" align="right" valign="top">Task&lt; Stream &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aace5074f2ece080e7f38def10a3464a6">GetFileAsync</a> (string folderName, string fileName)</td></tr>
<tr class="separator:aace5074f2ece080e7f38def10a3464a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7769b0c847fe16e449278c541892bb94"><td class="memItemLeft" align="right" valign="top">Task&lt; <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a7769b0c847fe16e449278c541892bb94">GetFileReferenceAsync</a> (string folderName, string fileName, string ifNoneMatch=null)</td></tr>
<tr class="memdesc:a7769b0c847fe16e449278c541892bb94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference to a file in the storage service, which can be used to open the full file data.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a7769b0c847fe16e449278c541892bb94">More...</a><br /></td></tr>
<tr class="separator:a7769b0c847fe16e449278c541892bb94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39661f28571eb2f480845eabc0b49b56"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a39661f28571eb2f480845eabc0b49b56">SaveFileAsync</a> (string folderName, string fileName, string contentType, Stream file, bool overwrite=true)</td></tr>
<tr class="memdesc:a39661f28571eb2f480845eabc0b49b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the file. If storage supports setting the content type for the file, it will be set to the specified value  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a39661f28571eb2f480845eabc0b49b56">More...</a><br /></td></tr>
<tr class="separator:a39661f28571eb2f480845eabc0b49b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f757f83bc81d0b6dbb9b415107e7e0"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a88f757f83bc81d0b6dbb9b415107e7e0">SaveFileAsync</a> (string folderName, string fileName, Stream packageFile, bool overwrite=true)</td></tr>
<tr class="separator:a88f757f83bc81d0b6dbb9b415107e7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb2e8f95a36e6f05d2616a8f684fd35"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a9fb2e8f95a36e6f05d2616a8f684fd35">SaveFileAsync</a> (string folderName, string fileName, Stream file, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> condition)</td></tr>
<tr class="memdesc:a9fb2e8f95a36e6f05d2616a8f684fd35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the file. An exception should be thrown if the access condition is not met.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a9fb2e8f95a36e6f05d2616a8f684fd35">More...</a><br /></td></tr>
<tr class="separator:a9fb2e8f95a36e6f05d2616a8f684fd35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5597a42fcf2dd1d662506834b1c936f1"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a5597a42fcf2dd1d662506834b1c936f1">CopyFileAsync</a> (Uri srcUri, string destFolderName, string destFileName, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> destAccessCondition)</td></tr>
<tr class="memdesc:a5597a42fcf2dd1d662506834b1c936f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the source URI to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a5597a42fcf2dd1d662506834b1c936f1">More...</a><br /></td></tr>
<tr class="separator:a5597a42fcf2dd1d662506834b1c936f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952cbcda44a68b7f4637fac3375ff095"><td class="memItemLeft" align="right" valign="top">Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a952cbcda44a68b7f4637fac3375ff095">CopyFileAsync</a> (string srcFolderName, string srcFileName, string destFolderName, string destFileName, <a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a> destAccessCondition)</td></tr>
<tr class="memdesc:a952cbcda44a68b7f4637fac3375ff095"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the source file to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a952cbcda44a68b7f4637fac3375ff095">More...</a><br /></td></tr>
<tr class="separator:a952cbcda44a68b7f4637fac3375ff095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c0158a9b4ca0aa5267f70ae6ca372f"><td class="memItemLeft" align="right" valign="top">Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a36c0158a9b4ca0aa5267f70ae6ca372f">IsAvailableAsync</a> ()</td></tr>
<tr class="separator:a36c0158a9b4ca0aa5267f70ae6ca372f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c24b1c3936fd06343e8659945499b9"><td class="memItemLeft" align="right" valign="top">Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a29c24b1c3936fd06343e8659945499b9">GetFileUriAsync</a> (string folderName, string fileName)</td></tr>
<tr class="memdesc:a29c24b1c3936fd06343e8659945499b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a file URI.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a29c24b1c3936fd06343e8659945499b9">More...</a><br /></td></tr>
<tr class="separator:a29c24b1c3936fd06343e8659945499b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2222f3e238d15ae9293db62ca19220"><td class="memItemLeft" align="right" valign="top">Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a8b2222f3e238d15ae9293db62ca19220">GetFileReadUriAsync</a> (string folderName, string fileName, DateTimeOffset? endOfAccess)</td></tr>
<tr class="memdesc:a8b2222f3e238d15ae9293db62ca19220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the storage file URI (which is optionally time limited)  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a8b2222f3e238d15ae9293db62ca19220">More...</a><br /></td></tr>
<tr class="separator:a8b2222f3e238d15ae9293db62ca19220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae93275735957a16fcc98e9b479986cb"><td class="memItemLeft" align="right" valign="top">Task&lt; Uri &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aae93275735957a16fcc98e9b479986cb">GetPriviledgedFileUriAsync</a> (string folderName, string fileName, <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8">FileUriPermissions</a> permissions, DateTimeOffset endOfAccess)</td></tr>
<tr class="memdesc:aae93275735957a16fcc98e9b479986cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a storage file URI giving certain permissions for the specific file. For example, this method can be used to generate a URI that allows the caller to either delete (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8af2a6c498fb90ee345d997f888fce3b18">FileUriPermissions.Delete</a>) or read (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8a7a1a5f3e79fdc91edf2f5ead9d66abb4">FileUriPermissions.Read</a>) the file.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aae93275735957a16fcc98e9b479986cb">More...</a><br /></td></tr>
<tr class="separator:aae93275735957a16fcc98e9b479986cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6a63dd688472f7c6aab3a9de28c105"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aff6a63dd688472f7c6aab3a9de28c105">SetMetadataAsync</a> (string folderName, string fileName, Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, IDictionary&lt; string, string &gt;, Task&lt; bool &gt;&gt; updateMetadataAsync)</td></tr>
<tr class="memdesc:aff6a63dd688472f7c6aab3a9de28c105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates metadata on the file.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#aff6a63dd688472f7c6aab3a9de28c105">More...</a><br /></td></tr>
<tr class="separator:aff6a63dd688472f7c6aab3a9de28c105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9f07643dffaef4ec71094674a8eb5a"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#adb9f07643dffaef4ec71094674a8eb5a">SetPropertiesAsync</a> (string folderName, string fileName, Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, BlobProperties, Task&lt; bool &gt;&gt; updatePropertiesAsync)</td></tr>
<tr class="memdesc:adb9f07643dffaef4ec71094674a8eb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates properties on the file.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#adb9f07643dffaef4ec71094674a8eb5a">More...</a><br /></td></tr>
<tr class="separator:adb9f07643dffaef4ec71094674a8eb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00af89cfcafef56e3535b6cc80997828"><td class="memItemLeft" align="right" valign="top">Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a00af89cfcafef56e3535b6cc80997828">GetETagOrNullAsync</a> (string folderName, string fileName)</td></tr>
<tr class="memdesc:a00af89cfcafef56e3535b6cc80997828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the etag value for the specified blob. If the blob does not exists it will return null.  <a href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a00af89cfcafef56e3535b6cc80997828">More...</a><br /></td></tr>
<tr class="separator:a00af89cfcafef56e3535b6cc80997828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a750fccc130fa6d2b70e07b84d73613f2"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a750fccc130fa6d2b70e07b84d73613f2">ResolvePath</a> (string fileStorageDirectory)</td></tr>
<tr class="separator:a750fccc130fa6d2b70e07b84d73613f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaa1e884b52a2bf0be055cd84d8567548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1e884b52a2bf0be055cd84d8567548">&#9670;&nbsp;</a></span>FileSystemFileStorageService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NuGetGallery.FileSystemFileStorageService.FileSystemFileStorageService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d7c/interface_nu_get_gallery_1_1_configuration_1_1_i_app_configuration.html">IAppConfiguration</a>&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d92/interface_nu_get_gallery_1_1_i_file_system_service.html">IFileSystemService</a>&#160;</td>
          <td class="paramname"><em>fileSystemService</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a952cbcda44a68b7f4637fac3375ff095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952cbcda44a68b7f4637fac3375ff095">&#9670;&nbsp;</a></span>CopyFileAsync() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;string&gt; NuGetGallery.FileSystemFileStorageService.CopyFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>srcFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>srcFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>destAccessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the source file to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcFolderName</td><td>The source folder.</td></tr>
    <tr><td class="paramname">srcFileName</td><td>The source file name or relative file path.</td></tr>
    <tr><td class="paramname">destFolderName</td><td>The destination folder.</td></tr>
    <tr><td class="paramname">destFileName</td><td>The destination file name or relative file path.</td></tr>
    <tr><td class="paramname">destAccessCondition</td><td>The access condition used to determine whether the destination is in the expected state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the source file. This can be used if the destination file is later intended to replace the source file in conjunction with <em>destAccessCondition</em> . </dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ab875ae073051d5125a2646a777da8f1f">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a5597a42fcf2dd1d662506834b1c936f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5597a42fcf2dd1d662506834b1c936f1">&#9670;&nbsp;</a></span>CopyFileAsync() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.CopyFileAsync </td>
          <td>(</td>
          <td class="paramtype">Uri&#160;</td>
          <td class="paramname"><em>srcUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFolderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>destAccessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the source URI to the destination file. If the destination already exists and the content is different, an exception should be thrown. If the file already exists, the implementation can choose to no-op if the content is the same instead of throwing an exception. This method should throw if the source file does not exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcUri</td><td>The URI of the source file.</td></tr>
    <tr><td class="paramname">destFolderName</td><td>The destination folder.</td></tr>
    <tr><td class="paramname">destFileName</td><td>The destination file name or relative file path.</td></tr>
    <tr><td class="paramname">destAccessCondition</td><td>The access condition used to determine whether the destination is in the expected state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the source file. This can be used if the destination file is later intended to replace the source file in conjunction with <em>destAccessCondition</em> . </dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a567d2aa08f2a2b44a1701888f65b6710">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a1a82b130d6afd38eabc1afd6512aff4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a82b130d6afd38eabc1afd6512aff4b">&#9670;&nbsp;</a></span>CreateDownloadFileActionResultAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;ActionResult&gt; NuGetGallery.FileSystemFileStorageService.CreateDownloadFileActionResultAsync </td>
          <td>(</td>
          <td class="paramtype">Uri&#160;</td>
          <td class="paramname"><em>requestUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../db/d91/interface_nu_get_gallery_1_1_i_file_storage_service.html#a1925bee601f53ec3999e4d2660a1b595">NuGetGallery.IFileStorageService</a>.</p>

</div>
</div>
<a id="ad170e102e3632a8850569a81320e5d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad170e102e3632a8850569a81320e5d01">&#9670;&nbsp;</a></span>DeleteFileAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.DeleteFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a7f0da19941696eb423131c6e9978b0b8">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a42b7da377cd819d81b7b379f9a95b7c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b7da377cd819d81b7b379f9a95b7c4">&#9670;&nbsp;</a></span>FileExistsAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;bool&gt; NuGetGallery.FileSystemFileStorageService.FileExistsAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a14a22e373850543f5ec909a44a65ad6e">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a00af89cfcafef56e3535b6cc80997828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00af89cfcafef56e3535b6cc80997828">&#9670;&nbsp;</a></span>GetETagOrNullAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;string&gt; NuGetGallery.FileSystemFileStorageService.GetETagOrNullAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the etag value for the specified blob. If the blob does not exists it will return null. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The etag of the specified file.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a8e8a830786b8eb8d4cefdaa355590a0c">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="aace5074f2ece080e7f38def10a3464a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace5074f2ece080e7f38def10a3464a6">&#9670;&nbsp;</a></span>GetFileAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;Stream&gt; NuGetGallery.FileSystemFileStorageService.GetFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ad6fe555467087e6e2be5a804d47df308">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a8b2222f3e238d15ae9293db62ca19220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2222f3e238d15ae9293db62ca19220">&#9670;&nbsp;</a></span>GetFileReadUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;Uri&gt; NuGetGallery.FileSystemFileStorageService.GetFileReadUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTimeOffset?&#160;</td>
          <td class="paramname"><em>endOfAccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates the storage file URI (which is optionally time limited) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within the <em>folderName</em> .</td></tr>
    <tr><td class="paramname">endOfAccess</td><td>End of access timestamp. Implementation should produce URIs that will become invalid after that timestamp if it has support for it. If null then would be no time on URI availability.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time limited URI (if requested and implementation supports it) for the specified file.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a17000c85e0896c491b6dacbf5ea05038">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a7769b0c847fe16e449278c541892bb94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7769b0c847fe16e449278c541892bb94">&#9670;&nbsp;</a></span>GetFileReferenceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;<a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a>&gt; NuGetGallery.FileSystemFileStorageService.GetFileReferenceAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ifNoneMatch</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a reference to a file in the storage service, which can be used to open the full file data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file to open</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within that folder to open</td></tr>
    <tr><td class="paramname">ifNoneMatch</td><td>The <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html#ae8ddf15710ac9ec58ac6ad098bb8327d" title="Gets the content ID suitable for use in the ifNoneMatch parameter of IFileStorageService....">IFileReference.ContentId</a> value to use in an If-None-Match request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="../../de/d61/interface_nu_get_gallery_1_1_i_file_reference.html">IFileReference</a> representing the file reference</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a9af33d1f5ddee7ac086cb0476816cdab">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a29c24b1c3936fd06343e8659945499b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c24b1c3936fd06343e8659945499b9">&#9670;&nbsp;</a></span>GetFileUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;Uri&gt; NuGetGallery.FileSystemFileStorageService.GetFileUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a file URI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file within the <em>folderName</em> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Uri for the specified file.</dd></dl>
<p>Not implemented for the same reason as <a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a8b2222f3e238d15ae9293db62ca19220" title="Generates the storage file URI (which is optionally time limited)">GetFileReadUriAsync(string, string, DateTimeOffset?)</a>.</p>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a475cd862d77c0dae6dff379a5e6957b5">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="aae93275735957a16fcc98e9b479986cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae93275735957a16fcc98e9b479986cb">&#9670;&nbsp;</a></span>GetPriviledgedFileUriAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;Uri&gt; NuGetGallery.FileSystemFileStorageService.GetPriviledgedFileUriAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8">FileUriPermissions</a>&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTimeOffset&#160;</td>
          <td class="paramname"><em>endOfAccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a storage file URI giving certain permissions for the specific file. For example, this method can be used to generate a URI that allows the caller to either delete (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8af2a6c498fb90ee345d997f888fce3b18">FileUriPermissions.Delete</a>) or read (via <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#a0bec3853735f2b65dd314be0080858a8a7a1a5f3e79fdc91edf2f5ead9d66abb4">FileUriPermissions.Read</a>) the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name containing the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
    <tr><td class="paramname">permissions</td><td>The permissions to give to the privileged URI.</td></tr>
    <tr><td class="paramname">endOfAccess</td><td>The time when the access ends.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The URI with privileged access.</dd></dl>
<p>Not implemented for the same reason as <a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html#a8b2222f3e238d15ae9293db62ca19220" title="Generates the storage file URI (which is optionally time limited)">GetFileReadUriAsync(string, string, DateTimeOffset?)</a>.</p>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a86ba38c4f35604a2ba76312a57ea122b">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a36c0158a9b4ca0aa5267f70ae6ca372f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c0158a9b4ca0aa5267f70ae6ca372f">&#9670;&nbsp;</a></span>IsAvailableAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task&lt;bool&gt; NuGetGallery.FileSystemFileStorageService.IsAvailableAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../db/d91/interface_nu_get_gallery_1_1_i_file_storage_service.html#aadaf675c4d97f4851bca8255e074cbb1">NuGetGallery.IFileStorageService</a>.</p>

</div>
</div>
<a id="a750fccc130fa6d2b70e07b84d73613f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750fccc130fa6d2b70e07b84d73613f2">&#9670;&nbsp;</a></span>ResolvePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string NuGetGallery.FileSystemFileStorageService.ResolvePath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileStorageDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9fb2e8f95a36e6f05d2616a8f684fd35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb2e8f95a36e6f05d2616a8f684fd35">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.FileSystemFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dfb/interface_nu_get_gallery_1_1_i_access_condition.html">IAccessCondition</a>&#160;</td>
          <td class="paramname"><em>accessCondition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the file. An exception should be thrown if the access condition is not met. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder that contains the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The name of file or relative file path.</td></tr>
    <tr><td class="paramname">file</td><td>The content that should be saved to the file.</td></tr>
    <tr><td class="paramname">accessCondition</td><td>The condition used to determine whether to persist the save operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that completes once the file is saved.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ad674ae816ea16cd6307a6b584b004bc5">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a88f757f83bc81d0b6dbb9b415107e7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f757f83bc81d0b6dbb9b415107e7e0">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>packageFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ae783774538ffb3bfd55a27db0a5c9dcc">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="a39661f28571eb2f480845eabc0b49b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39661f28571eb2f480845eabc0b49b56">&#9670;&nbsp;</a></span>SaveFileAsync() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.SaveFileAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>contentType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the file. If storage supports setting the content type for the file, it will be set to the specified value </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder that will contain the file.</td></tr>
    <tr><td class="paramname">fileName</td><td>The name of the file.</td></tr>
    <tr><td class="paramname">contentType</td><td>The content type to set for the saved file if storage supports it.</td></tr>
    <tr><td class="paramname">file</td><td>The content that should be saved.</td></tr>
    <tr><td class="paramname">overwrite</td><td>Indicates whether file should be overwritten if exists.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d3/de1/class_nu_get_gallery_1_1_file_already_exists_exception.html">FileAlreadyExistsException</a></td><td>Thrown when <em>overwrite</em>  is false and file already exists in destination. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#a17f3fd57b4af1845682b44aeedf236a8">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="aff6a63dd688472f7c6aab3a9de28c105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6a63dd688472f7c6aab3a9de28c105">&#9670;&nbsp;</a></span>SetMetadataAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.SetMetadataAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, IDictionary&lt; string, string &gt;, Task&lt; bool &gt;&gt;&#160;</td>
          <td class="paramname"><em>updateMetadataAsync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates metadata on the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
    <tr><td class="paramname">updateMetadataAsync</td><td>A function that will update file metadata.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that represents the asynchronous operation.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ac781ca79c13dd5f42b6313d857581aef">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<a id="adb9f07643dffaef4ec71094674a8eb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb9f07643dffaef4ec71094674a8eb5a">&#9670;&nbsp;</a></span>SetPropertiesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task NuGetGallery.FileSystemFileStorageService.SetPropertiesAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>folderName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func&lt; Lazy&lt; Task&lt; Stream &gt;&gt;, BlobProperties, Task&lt; bool &gt;&gt;&#160;</td>
          <td class="paramname"><em>updatePropertiesAsync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates properties on the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folderName</td><td>The folder name.</td></tr>
    <tr><td class="paramname">fileName</td><td>The file name.</td></tr>
    <tr><td class="paramname">updatePropertiesAsync</td><td>A function that will update file properties.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A task that represents the asynchronous operation.</dd></dl>

<p>Implements <a class="el" href="../../dc/db7/interface_nu_get_gallery_1_1_i_core_file_storage_service.html#ac6c20f112bdc8b6f41f69cd899842760">NuGetGallery.ICoreFileStorageService</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d4/d00/_file_system_file_storage_service_8cs.html">FileSystemFileStorageService.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html">NuGetGallery</a></li><li class="navelem"><a class="el" href="../../d1/ded/class_nu_get_gallery_1_1_file_system_file_storage_service.html">FileSystemFileStorageService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
