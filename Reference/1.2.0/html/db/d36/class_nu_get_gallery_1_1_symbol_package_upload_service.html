<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alliance Business Suite: NuGetGallery.SymbolPackageUploadService Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Iso.Blue.Logo.Comb.h128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alliance Business Suite
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">The Alliance Business Suite is a set of intelligent, extensible, multi-tenant business applications that enable users to jumpstart your business through the acceleration of several core aspects of any given business.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d8/dc4/class_nu_get_gallery_1_1_symbol_package_upload_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NuGetGallery.SymbolPackageUploadService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for NuGetGallery.SymbolPackageUploadService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/ddc/class_nu_get_gallery_1_1_symbol_package_upload_service__inherit__graph.png" border="0" usemap="#a_nu_get_gallery_8_symbol_package_upload_service_inherit__map" alt="Inheritance graph"/></div>
<map name="a_nu_get_gallery_8_symbol_package_upload_service_inherit__map" id="a_nu_get_gallery_8_symbol_package_upload_service_inherit__map">
<area shape="rect" title=" " alt="" coords="9,80,207,121"/>
<area shape="rect" href="../../d9/daa/interface_nu_get_gallery_1_1_i_symbol_package_upload_service.html" title="Business logic for uploading symbol to containers and creating db entities. This will be the common c..." alt="" coords="5,5,211,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for NuGetGallery.SymbolPackageUploadService:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d91/class_nu_get_gallery_1_1_symbol_package_upload_service__coll__graph.png" border="0" usemap="#a_nu_get_gallery_8_symbol_package_upload_service_coll__map" alt="Collaboration graph"/></div>
<map name="a_nu_get_gallery_8_symbol_package_upload_service_coll__map" id="a_nu_get_gallery_8_symbol_package_upload_service_coll__map">
<area shape="rect" title=" " alt="" coords="9,80,207,121"/>
<area shape="rect" href="../../d9/daa/interface_nu_get_gallery_1_1_i_symbol_package_upload_service.html" title="Business logic for uploading symbol to containers and creating db entities. This will be the common c..." alt="" coords="5,5,211,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4715ef6286673f8f39f479adabe347e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#a4715ef6286673f8f39f479adabe347e9">SymbolPackageUploadService</a> (<a class="el" href="../../d5/db6/interface_nu_get_gallery_1_1_i_symbol_package_service.html">ISymbolPackageService</a> symbolPackageService, <a class="el" href="../../d5/db3/interface_nu_get_gallery_1_1_i_symbol_package_file_service.html">ISymbolPackageFileService</a> symbolPackageFileService, <a class="el" href="../../d4/d52/interface_nu_get_gallery_1_1_i_entities_context.html">IEntitiesContext</a> entitiesContext, <a class="el" href="../../d0/d58/interface_nu_get_gallery_1_1_i_validation_service.html">IValidationService</a> validationService, <a class="el" href="../../d8/d29/interface_nu_get_gallery_1_1_i_package_service.html">IPackageService</a> packageService, <a class="el" href="../../db/d55/interface_nu_get_gallery_1_1_i_telemetry_service.html">ITelemetryService</a> telemetryService, <a class="el" href="../../d9/d39/interface_nu_get_gallery_1_1_i_content_object_service.html">IContentObjectService</a> contentObjectService)</td></tr>
<tr class="separator:a4715ef6286673f8f39f479adabe347e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40392fc558d5535966c1aae7d3745825"><td class="memItemLeft" align="right" valign="top">async Task&lt; <a class="el" href="../../d8/d32/class_nu_get_gallery_1_1_symbol_package_validation_result.html">SymbolPackageValidationResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#a40392fc558d5535966c1aae7d3745825">ValidateUploadedSymbolsPackage</a> (Stream symbolPackageStream, <a class="el" href="../../de/def/class_nu_get_1_1_services_1_1_entities_1_1_user.html">User</a> currentUser)</td></tr>
<tr class="memdesc:a40392fc558d5535966c1aae7d3745825"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method does not perform the ownership validations for the symbols package. It is the responsibility of the caller to do it. Also, this method does not dispose the Stream object, the caller should take care of it.  <a href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#a40392fc558d5535966c1aae7d3745825">More...</a><br /></td></tr>
<tr class="separator:a40392fc558d5535966c1aae7d3745825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336f7ca242d66d60262e6e99666665fa"><td class="memItemLeft" align="right" valign="top">async Task&lt; <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#ae6360cc75842fe2a635f7bcdf7055464">PackageCommitResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#a336f7ca242d66d60262e6e99666665fa">CreateAndUploadSymbolsPackage</a> (<a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a> package, Stream symbolPackageStream)</td></tr>
<tr class="memdesc:a336f7ca242d66d60262e6e99666665fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method creates the symbol db entities and invokes the validations for the uploaded snupkg. It will send the message for validation and upload the snupkg to the "validations"/"symbols-packages" container based on the result. It will then update the references in the database for persistence with appropriate status.  <a href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#a336f7ca242d66d60262e6e99666665fa">More...</a><br /></td></tr>
<tr class="separator:a336f7ca242d66d60262e6e99666665fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eb98aeaf1cc99d711ed3fe9976c560"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#ac2eb98aeaf1cc99d711ed3fe9976c560">DeleteSymbolsPackageAsync</a> (<a class="el" href="../../d2/db8/class_nu_get_1_1_services_1_1_entities_1_1_symbol_package.html">SymbolPackage</a> symbolPackage)</td></tr>
<tr class="memdesc:ac2eb98aeaf1cc99d711ed3fe9976c560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the specifed symbol package for deletion and delete the corressponding snupkg as well.  <a href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html#ac2eb98aeaf1cc99d711ed3fe9976c560">More...</a><br /></td></tr>
<tr class="separator:ac2eb98aeaf1cc99d711ed3fe9976c560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4715ef6286673f8f39f479adabe347e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4715ef6286673f8f39f479adabe347e9">&#9670;&nbsp;</a></span>SymbolPackageUploadService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NuGetGallery.SymbolPackageUploadService.SymbolPackageUploadService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/db6/interface_nu_get_gallery_1_1_i_symbol_package_service.html">ISymbolPackageService</a>&#160;</td>
          <td class="paramname"><em>symbolPackageService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/db3/interface_nu_get_gallery_1_1_i_symbol_package_file_service.html">ISymbolPackageFileService</a>&#160;</td>
          <td class="paramname"><em>symbolPackageFileService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d52/interface_nu_get_gallery_1_1_i_entities_context.html">IEntitiesContext</a>&#160;</td>
          <td class="paramname"><em>entitiesContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d58/interface_nu_get_gallery_1_1_i_validation_service.html">IValidationService</a>&#160;</td>
          <td class="paramname"><em>validationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d29/interface_nu_get_gallery_1_1_i_package_service.html">IPackageService</a>&#160;</td>
          <td class="paramname"><em>packageService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d55/interface_nu_get_gallery_1_1_i_telemetry_service.html">ITelemetryService</a>&#160;</td>
          <td class="paramname"><em>telemetryService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d39/interface_nu_get_gallery_1_1_i_content_object_service.html">IContentObjectService</a>&#160;</td>
          <td class="paramname"><em>contentObjectService</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a336f7ca242d66d60262e6e99666665fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336f7ca242d66d60262e6e99666665fa">&#9670;&nbsp;</a></span>CreateAndUploadSymbolsPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;<a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#ae6360cc75842fe2a635f7bcdf7055464">PackageCommitResult</a>&gt; NuGetGallery.SymbolPackageUploadService.CreateAndUploadSymbolsPackage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d78/class_nu_get_1_1_services_1_1_entities_1_1_package.html">Package</a>&#160;</td>
          <td class="paramname"><em>package</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>symbolPackageStream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method creates the symbol db entities and invokes the validations for the uploaded snupkg. It will send the message for validation and upload the snupkg to the "validations"/"symbols-packages" container based on the result. It will then update the references in the database for persistence with appropriate status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">package</td><td>The package for which symbols package is to be uplloaded</td></tr>
    <tr><td class="paramname">symbolPackageStream</td><td>The symbols package stream metadata for the uploaded symbols package file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="../../df/d6a/namespace_nu_get_gallery.html#ae6360cc75842fe2a635f7bcdf7055464" title="Non-exceptional results of calling IPackageUploadService.CommitPackageAsync(Package,...">PackageCommitResult</a> for the create and upload symbol package flow.</dd></dl>

<p>Implements <a class="el" href="../../d9/daa/interface_nu_get_gallery_1_1_i_symbol_package_upload_service.html#af4350bc20684031a3e7d5f7af54e4764">NuGetGallery.ISymbolPackageUploadService</a>.</p>

</div>
</div>
<a id="ac2eb98aeaf1cc99d711ed3fe9976c560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2eb98aeaf1cc99d711ed3fe9976c560">&#9670;&nbsp;</a></span>DeleteSymbolsPackageAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task NuGetGallery.SymbolPackageUploadService.DeleteSymbolsPackageAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/db8/class_nu_get_1_1_services_1_1_entities_1_1_symbol_package.html">SymbolPackage</a>&#160;</td>
          <td class="paramname"><em>symbolPackage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the specifed symbol package for deletion and delete the corressponding snupkg as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">symbolPackage</td><td>The SymbolPackage entity to be marked for deletion</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d9/daa/interface_nu_get_gallery_1_1_i_symbol_package_upload_service.html#a0d9763ef70b7c6ca86bbf77fb4721305">NuGetGallery.ISymbolPackageUploadService</a>.</p>

</div>
</div>
<a id="a40392fc558d5535966c1aae7d3745825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40392fc558d5535966c1aae7d3745825">&#9670;&nbsp;</a></span>ValidateUploadedSymbolsPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;<a class="el" href="../../d8/d32/class_nu_get_gallery_1_1_symbol_package_validation_result.html">SymbolPackageValidationResult</a>&gt; NuGetGallery.SymbolPackageUploadService.ValidateUploadedSymbolsPackage </td>
          <td>(</td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>symbolPackageStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/def/class_nu_get_1_1_services_1_1_entities_1_1_user.html">User</a>&#160;</td>
          <td class="paramname"><em>currentUser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method does not perform the ownership validations for the symbols package. It is the responsibility of the caller to do it. Also, this method does not dispose the Stream object, the caller should take care of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">symbolPackageStream</td><td>Stream object for the symbols package.</td></tr>
    <tr><td class="paramname">currentUser</td><td>The user performing the uploads.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Awaitable task for <a class="el" href="../../d8/d32/class_nu_get_gallery_1_1_symbol_package_validation_result.html">SymbolPackageValidationResult</a></dd></dl>

<p>Implements <a class="el" href="../../d9/daa/interface_nu_get_gallery_1_1_i_symbol_package_upload_service.html#ad25b56e0651364616c757e93290408dd">NuGetGallery.ISymbolPackageUploadService</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d4/da2/_symbol_package_upload_service_8cs.html">SymbolPackageUploadService.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d6a/namespace_nu_get_gallery.html">NuGetGallery</a></li><li class="navelem"><a class="el" href="../../db/d36/class_nu_get_gallery_1_1_symbol_package_upload_service.html">SymbolPackageUploadService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
